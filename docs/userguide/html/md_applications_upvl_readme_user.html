<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unify SDK User Guide: UPVL User&#39;s Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unify SDK User Guide
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_applications_upvl_readme_user.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">UPVL User's Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>UPVL is an acronym for <em>Unify SDK Provisioning List</em></p>
<h1><a class="anchor" id="autotoc_md212"></a>
Description</h1>
<p>The UPVL MQTT Client is an application that manages the SmartStart List topic <code>ucl/SmartStart/List</code>.</p>
<p>The UPVL is required for all/any of the protocol controllers to support SmartStart.</p>
<p>It listens to the following MQTT topics, which is used to modify the SmartStart List and publish the list to <code>ucl/SmartStart/List</code> whenever it was updated:</p>
<ul>
<li><code>ucl/SmartStart/List/Update</code></li>
<li><code>ucl/SmartStart/List/Remove</code></li>
</ul>
<p>The SmartStart List is persisted in the file system by the UPVL and is published whenever the UPVL connects to the MQTT broker (i.e., when the UPVL or MQTT broker restarts, the persisted SmartStart list is published to <code>ucl/SmartStart/List</code>).</p>
<h1><a class="anchor" id="autotoc_md213"></a>
Installation</h1>
<p>Please refer to <a class="el" href="md_doc_readme_user.html">Unify SDK User guide</a>.</p>
<h1><a class="anchor" id="autotoc_md214"></a>
Running the UPVL</h1>
<h2><a class="anchor" id="autotoc_md215"></a>
Using Systemd Service</h2>
<p>The best way to run the UPVL is using the Systemd service that is installed with the Debian installer. For more information, see <a class="el" href="md_doc_readme_user.html">Unify SDK User guide</a>.</p>
<h2><a class="anchor" id="autotoc_md216"></a>
Using Command Line</h2>
<p>Alternatively, the UPVL may be run by executing <code>uic-upvl</code>. It is possible to configure the MQTT broker Hostname or IP, UPVL database path, through command line options. For more details about the options, run <code>uic-upvl --help</code>.</p>
<p>Make sure that you do not run the UPVL both as a service and using the command line.</p>
<div class="fragment"><div class="line">pi@unify:~ $ service uic-upvl status</div>
<div class="line">● uic-upvl.service - Unify SDK Provisioning List</div>
<div class="line">     Loaded: loaded (/lib/systemd/system/uic-upvl.service; enabled; vendor preset: enabled)</div>
<div class="line">     Active: active (running) since Tue 2022-02-01 13:32:57 CET; 20h ago</div>
<div class="line">   Main PID: 1736 (uic-upvl)</div>
<div class="line">      Tasks: 1 (limit: 4624)</div>
<div class="line">     Memory: 3.2M</div>
<div class="line">     CGroup: /system.slice/uic-upvl.service</div>
<div class="line">             └─1736 /usr/bin/uic-upvl --upvl.db_file /var/lib/uic/upvl.db</div>
<div class="line"> </div>
<div class="line">Feb 02 09:20:06 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:06.343484 &lt;i&gt; [upvl_mqtt] Disconnected from MQTT broker. Status: 7.</div>
<div class="line">Feb 02 09:20:06 ubunty200402 uic-upvl[1736]: Published 0 messages.</div>
<div class="line">Feb 02 09:20:06 ubunty200402 uic-upvl[1736]: Received 0 messages of which 0 were dropped.</div>
<div class="line">Feb 02 09:20:07 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:07.344734 &lt;i&gt; [upvl_mqtt] (Re-)connected to broker</div>
<div class="line">Feb 02 09:20:07 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:07.344815 &lt;i&gt; [upvl_mqtt] Subscribing</div>
<div class="line">Feb 02 09:20:08 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:08.345994 &lt;i&gt; [upvl_mqtt] Disconnected from MQTT broker. Status: 7.</div>
<div class="line">Feb 02 09:20:08 ubunty200402 uic-upvl[1736]: Published 0 messages.</div>
<div class="line">Feb 02 09:20:08 ubunty200402 uic-upvl[1736]: Received 0 messages of which 0 were dropped.</div>
<div class="line">Feb 02 09:20:09 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:09.347998 &lt;i&gt; [upvl_mqtt] (Re-)connected to broker</div>
<div class="line">Feb 02 09:20:09 ubunty200402 uic-upvl[1736]: 2022-Feb-02 09:20:09.348156 &lt;i&gt; [upvl_mqtt] Subscribing</div>
</div><!-- fragment --><p>If the service is running, stop it using the following command before you run the application manually:</p>
<div class="fragment"><div class="line">pi@unify:~ $ service uic-upvl stop</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 9 2022 14:33:59 for Unify SDK User Guide by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
