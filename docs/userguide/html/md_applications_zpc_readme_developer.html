<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unify SDK User Guide: ZPC Developer&#39;s Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unify SDK User Guide
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_applications_zpc_readme_developer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ZPC Developer's Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This doucument is intended for Unify developers who are trying to cross compile the ZPC for Raspberry Pi and install and run it on a Raspberry Pi.</p>
<h1><a class="anchor" id="autotoc_md208"></a>
Build Instructions</h1>
<p>To cross compile the ZPC for Raspberry Pi, use Docker on your workstation. If you haven't already built the Unify docker image, see <a class="el" href="md_docker_readme_developer.html">readme.md</a>.</p>
<h2><a class="anchor" id="autotoc_md209"></a>
Cross Compiling for Raspberry Pi Using Docker</h2>
<blockquote class="doxtable">
<p>The Raspberry Pi build is supported by Raspberry Pi OS Buster. </p>
</blockquote>
<p>From the root of the Unify source directory, run the following.</p>
<div class="fragment"><div class="line">docker run -it --rm  -v`pwd`:`pwd` -w `pwd` uic_armhf</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -GNinja -DCMAKE_TOOLCHAIN_FILE=../cmake/armhf_debian.cmake ..</div>
<div class="line">ninja               # Build binaries</div>
<div class="line">ninja doxygen       # Build doxygen documentation (optional)</div>
<div class="line">ninja deb           # Build Debian Installers (optional)</div>
</div><!-- fragment --><p>After running this, the <code>zpc</code> binary is located in <code>./applications/zpc/zpc</code>. The Debian installer path are directly in the build folder <code>./uic-zpc_&lt;version&gt;_armhf.deb</code> and <code>./libuic_&lt;version&gt;_armhf.deb</code></p>
<h2><a class="anchor" id="autotoc_md210"></a>
Advanced Feature - Run Raspberry Pi Unit Tests in Docker on the Host</h2>
<p>You can run the Raspberry Pi unit tests (and ZPC binary) within Docker on the Host machine by using QEMU to emulate the ARM architecture and binfmt in the kernel to tell the Linux OS to run the ARM binaries within QEMU.</p>
<p>To enable running the unit tests inside Docker on the Host machine, run the following command in the Host (not within the docker container).</p>
<div class="fragment"><div class="line">docker run --user 0 --privileged --rm -it uic_armhf update-binfmts --enable</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>NB: This command needs to be run once after each restart of the Host machine. </p>
</blockquote>
<p>After enabling this you can run the unit tests by issuing following command in the <code>uic_armhf</code> docker image in the build directory:</p>
<div class="fragment"><div class="line">ninja test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md211"></a>
Install Instructions</h1>
<p>Installation is documented in the main <a class="el" href="index.html#md_README">README.md</a> file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Aug 24 2021 09:11:37 for Unify SDK User Guide by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
