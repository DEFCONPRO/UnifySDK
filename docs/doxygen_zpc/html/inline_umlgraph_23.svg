<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="588px" preserveAspectRatio="none" style="width:1546px;height:588px;background:#FFFFFF;" version="1.1" viewBox="0 0 1546 588" width="1546px" zoomAndPan="magnify"><defs><filter height="300%" id="fdo7dhlitmn23" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="734" cy="16" fill="#000000" filter="url(#fdo7dhlitmn23)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><g id="IDLE"><rect fill="#FEFECE" filter="url(#fdo7dhlitmn23)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="112" x="678" y="87"/><line style="stroke:#A80036;stroke-width:1.5;" x1="678" x2="790" y1="113.2969" y2="113.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="719" y="104.9951">IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="92" x="683" y="129.4355">Reported: IDLE</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="683" y="143.4043">Desired: IDLE</text></g><g id="ONGOING"><rect fill="#FEFECE" filter="url(#fdo7dhlitmn23)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="143" x="663.5" y="228"/><line style="stroke:#A80036;stroke-width:1.5;" x1="663.5" x2="806.5" y1="254.2969" y2="254.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="701.5" y="245.9951">ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="123" x="668.5" y="270.4355">Reported: ONGOING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="668.5" y="284.4043">Desired: IDLE</text></g><g id="WAITING_FOR_ACTIVATION"><rect fill="#FEFECE" filter="url(#fdo7dhlitmn23)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="242" x="388" y="369"/><line style="stroke:#A80036;stroke-width:1.5;" x1="388" x2="630" y1="395.2969" y2="395.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="417.5" y="386.9951">WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="222" x="393" y="411.4355">Reported: WAITING_FOR_ACTIVATION</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="393" y="425.4043">Desired: IDLE</text></g><g id="ACTIVATION_TIMEOUT"><rect fill="#FEFECE" filter="url(#fdo7dhlitmn23)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="232" x="7" y="510"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="239" y1="536.2969" y2="536.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="47" y="527.9951">ACTIVATION_TIMEOUT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130" x="12" y="552.4355">Reported: Undefined</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="212" x="12" y="566.4043">Desired: WAITING_FOR_ACTIVATION</text></g><g id="WAITING_FOR_REBOOT"><rect fill="#FEFECE" filter="url(#fdo7dhlitmn23)" height="64.2344" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="221" x="1011.5" y="369"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1011.5" x2="1232.5" y1="395.2969" y2="395.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="1041.5" y="386.9951">WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="201" x="1016.5" y="411.4355">Reported: WAITING_FOR_REBOOT</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="1016.5" y="425.4043">Desired: IDLE</text></g><!--MD5=[9c5673dd9f569fe24504060ab78be963]
link *start to IDLE--><path d="M734,26.2526 C734,39.0511 734,61.658 734,81.3476 " fill="none" id="*start-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="734,86.5471,738,77.5471,734,81.5471,730,77.5471,734,86.5471" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d41842302ca67f5a37a90af18a619068]
link IDLE to ONGOING--><path d="M677.8813,138.336 C648.2593,151.9686 620.7232,172.3502 635,198 C640.9111,208.6199 649.4765,217.6525 659.1429,225.2618 " fill="none" id="IDLE-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="663.3486,228.4364,658.5751,219.8217,659.3579,225.4241,653.7554,226.2068,663.3486,228.4364" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="636" y="194.0669">Initiate firmware update</text><!--MD5=[02c83846398aa9de016ff26a10596df8]
link ONGOING to IDLE--><path d="M777.2047,227.9726 C789.7783,214.3947 798.6457,197.832 792,181 C788.2786,171.5746 782.3729,162.7401 775.7246,154.859 " fill="none" id="ONGOING-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="772.4075,151.0682,775.324,160.4753,775.7001,154.831,781.3445,155.2071,772.4075,151.0682" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="796" y="194.0669">Update either success or fail. No reboot needed.</text><!--MD5=[bf95208068f958690ce858b1af1bfb4c]
link ONGOING to ONGOING--><path d="M806.6751,246.9551 C826.4151,247.5853 841.5,251.9336 841.5,260 C841.5,267.3102 829.1109,271.5667 812.0956,272.7696 " fill="none" id="ONGOING-to-ONGOING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="806.6751,273.0449,815.8664,276.5833,811.6687,272.7913,815.4607,268.5936,806.6751,273.0449" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="847.5" y="264.5669">End node responds and frame valid</text><!--MD5=[d2901a3a9c03b31757dd22a897fdbe5d]
link ONGOING to WAITING_FOR_ACTIVATION--><path d="M675.9483,292.0731 C659.3038,301.4389 641.2967,311.8831 625,322 C602.7747,335.7973 578.7886,351.9168 558.4278,365.9839 " fill="none" id="ONGOING-to-WAITING_FOR_ACTIVATION" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="554.14,368.9529,563.8164,367.1179,558.2507,366.1065,559.2621,360.5408,554.14,368.9529" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="626" y="335.0669">Update done and end node supports activation</text><!--MD5=[1237bf9c4002173552d2807bb0d74fc2]
link WAITING_FOR_ACTIVATION to ACTIVATION_TIMEOUT--><path d="M420.9276,433.1715 C359.5567,455.5894 277.8489,485.436 215.5249,508.2021 " fill="none" id="WAITING_FOR_ACTIVATION-to-ACTIVATION_TIMEOUT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="210.694,509.9667,220.5201,510.6356,215.3904,508.251,217.775,503.1213,210.694,509.9667" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="341" y="476.0669">Set apply timer callback</text><!--MD5=[b4ddb5706a554f2c916c35528d22b45d]
link ACTIVATION_TIMEOUT to IDLE--><path d="M106.7329,509.7307 C85.9651,463.4607 57.2977,377.7168 98,322 C167.4698,226.9038 527.4133,154.867 672.8934,129.2034 " fill="none" id="ACTIVATION_TIMEOUT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="677.9773,128.31,668.4208,125.9281,673.0528,129.1754,669.8055,133.8074,677.9773,128.31" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="492" x="99" y="335.0669">Get rule triggerred to send Activtion command. Update either success or fail.</text><!--MD5=[0fc91e6b99cd5b1182cd2cbce0dd14a2]
link ONGOING to WAITING_FOR_REBOOT--><path d="M806.9383,280.0741 C844.6147,291.2295 891.2652,306.0577 932,322 C948.4773,328.4487 951.7861,331.9151 968,339 C989.5744,348.4273 1013.061,358.1512 1035.0426,367.0225 " fill="none" id="ONGOING-to-WAITING_FOR_REBOOT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1039.7092,368.9022,1032.8557,361.829,1035.0714,367.0339,1029.8665,369.2496,1039.7092,368.9022" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277" x="969" y="335.0669">Update done and end node requires reboot</text><!--MD5=[5137197dd438a057b6bb28e1cf836452]
link WAITING_FOR_REBOOT to IDLE--><path d="M1220.3666,368.9997 C1232.5102,361.0544 1243.3276,351.2 1251,339 C1300.3251,260.5671 1197.0812,223.9811 1115,181 C1060.52,152.472 888.3335,132.9824 795.2126,124.234 " fill="none" id="WAITING_FOR_REBOOT-to-IDLE" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="790.0173,123.7494,798.6069,128.5681,794.9957,124.2138,799.3499,120.6027,790.0173,123.7494" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275" x="1263" y="264.5669">Reboot done. Update either success or fail.</text><!--MD5=[17bd7029ec2fe870f671aa1cbea2b76b]
@startuml inline_umlgraph_23.svg
[*] - -> IDLE
IDLE - -> ONGOING : Initiate firmware update
IDLE: Reported: IDLE
IDLE: Desired: IDLE
ONGOING - -> ONGOING : End node responds and frame valid
ONGOING: Reported: ONGOING
ONGOING: Desired: IDLE
ONGOING - -> WAITING_FOR_ACTIVATION : Update done and end node supports activation
WAITING_FOR_ACTIVATION - -> ACTIVATION_TIMEOUT: Set apply timer callback
ACTIVATION_TIMEOUT - -> IDLE : Get rule triggerred to send Activtion command. Update either success or fail.
WAITING_FOR_ACTIVATION: Reported: WAITING_FOR_ACTIVATION
WAITING_FOR_ACTIVATION: Desired: IDLE
ACTIVATION_TIMEOUT: Reported: Undefined
ACTIVATION_TIMEOUT: Desired: WAITING_FOR_ACTIVATION
ONGOING - -> WAITING_FOR_REBOOT : Update done and end node requires reboot
WAITING_FOR_REBOOT: Reported: WAITING_FOR_REBOOT
WAITING_FOR_REBOOT: Desired: IDLE
WAITING_FOR_REBOOT - -> IDLE : Reboot done. Update either success or fail.
ONGOING - -> IDLE : Update either success or fail. No reboot needed.
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>