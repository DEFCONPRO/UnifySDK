<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="494px" preserveAspectRatio="none" style="width:611px;height:494px;" version="1.1" viewBox="0 0 611 494" width="611px" zoomAndPan="magnify"><defs><filter height="300%" id="f1x34thfq04w1g" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="442" x="82.25" y="28.708">Z-Wave node interview detection and monitoring</text><rect fill="#ADD8E6" height="441.0234" style="stroke:#A80036;stroke-width:1.0;" width="139" x="466.5" y="40.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="521" y="53.02">ZPC</text><rect fill="#FFFFFF" filter="url(#f1x34thfq04w1g)" height="78.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="531" y="105.3828"/><rect fill="#FFFFFF" filter="url(#f1x34thfq04w1g)" height="88.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="531" y="240.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75" x2="75" y1="95.3828" y2="191.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="75" x2="75" y1="191.7813" y2="219.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75" x2="75" y1="219.7813" y2="337.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="75" x2="75" y1="337.4453" y2="365.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75" x2="75" y1="365.4453" y2="487.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="95.3828" y2="191.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="215" x2="215" y1="191.7813" y2="219.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="219.7813" y2="337.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="215" x2="215" y1="337.4453" y2="365.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="215" y1="365.4453" y2="487.9766"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="535.5" y1="95.3828" y2="191.7813"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="535.5" x2="535.5" y1="191.7813" y2="219.7813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="535.5" y1="219.7813" y2="337.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="535.5" x2="535.5" y1="337.4453" y2="365.4453"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="535.5" y1="365.4453" y2="487.9766"/><rect fill="#FEFECE" filter="url(#f1x34thfq04w1g)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="137" x="5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="12" y="80.0811">Attribute Resolver</text><rect fill="#FEFECE" filter="url(#f1x34thfq04w1g)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="114" x="156" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="163" y="80.0811">Attribute Store</text><rect fill="#FEFECE" filter="url(#f1x34thfq04w1g)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="470.5" y="60.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="477.5" y="80.0811">Network Monitor</text><rect fill="#FFFFFF" filter="url(#f1x34thfq04w1g)" height="78.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="531" y="105.3828"/><rect fill="#FFFFFF" filter="url(#f1x34thfq04w1g)" height="88.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="531" y="240.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="541" x2="583" y1="126.5156" y2="126.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="583" x2="583" y1="126.5156" y2="139.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="542" x2="583" y1="139.5156" y2="139.5156"/><polygon fill="#A80036" points="552,135.5156,542,139.5156,552,143.5156,548,139.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="548" y="121.4497">Init</text><polygon fill="#A80036" points="226,179.7813,216,183.7813,226,187.7813,222,183.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="220" x2="535" y1="183.7813" y2="183.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="232" y="163.5825">Register callback for NIFs attributes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="232" y="178.7153">network_monitor_on_nif_updated()</text><polygon fill="#A80036" points="519,236.9141,529,240.9141,519,244.9141,523,240.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="525" y1="240.9141" y2="240.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="222" y="235.8481">network_monitor_on_nif_updated()</text><polygon fill="#A80036" points="226,281.1797,216,285.1797,226,289.1797,222,285.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="220" x2="530" y1="285.1797" y2="285.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="232" y="264.981">Update the ATTRIBUTE_NETWORK_STATUS to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="232" y="280.1138">NODE_STATE_TOPIC_INTERVIEWING</text><polygon fill="#A80036" points="86.5,325.4453,76.5,329.4453,86.5,333.4453,82.5,329.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="80.5" x2="535" y1="329.4453" y2="329.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="92.5" y="309.2466">Register listener for the NodeID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="92.5" y="324.3794">network_monitor_node_id_resolution_listener()</text><path d="M10,370.4453 L10,395.4453 L137,395.4453 L137,380.4453 L127,370.4453 L10,370.4453 " fill="#FBFB77" filter="url(#f1x34thfq04w1g)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M127,370.4453 L127,380.4453 L137,380.4453 L127,370.4453 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="16" y="387.5122">Node is resolved</text><polygon fill="#A80036" points="524,421.7109,534,425.7109,524,429.7109,528,425.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="75.5" x2="530" y1="425.7109" y2="425.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="82.5" y="420.645">network_monitor_node_id_resolution_listener()</text><polygon fill="#A80036" points="226,465.9766,216,469.9766,226,473.9766,222,469.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="220" x2="535" y1="469.9766" y2="469.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288" x="232" y="449.7778">Update the ATTRIBUTE_NETWORK_STATUS to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="232" y="464.9106">NODE_STATE_TOPIC_STATE_INCLUDED</text><!--MD5=[bf468837d93402e24b94692af2ace408]
@startuml inline_umlgraph_18.svg
  hide footbox
  title Z-Wave node interview detection and monitoring
  participant "Attribute Resolver" as AttributeResolver
  participant "Attribute Store" as AttributeStore
  box "ZPC" #LightBlue
  participant "Network Monitor" as NetworkMonitor
  end box

  activate NetworkMonitor
  NetworkMonitor -> NetworkMonitor: Init
  NetworkMonitor -> AttributeStore: Register callback for NIFs attributes\nnetwork_monitor_on_nif_updated()
  deactivate NetworkMonitor
  ...
  AttributeStore        -> NetworkMonitor       : network_monitor_on_nif_updated()
  activate NetworkMonitor
  NetworkMonitor        -> AttributeStore       : Update the ATTRIBUTE_NETWORK_STATUS to \nNODE_STATE_TOPIC_INTERVIEWING
  NetworkMonitor        -> AttributeResolver    : Register listener for the NodeID\nnetwork_monitor_node_id_resolution_listener()
  deactivate NetworkMonitor
  ...
  note over AttributeResolver: Node is resolved
  AttributeResolver     -> NetworkMonitor       : network_monitor_node_id_resolution_listener()
  NetworkMonitor        -> AttributeStore       : Update the ATTRIBUTE_NETWORK_STATUS to \nNODE_STATE_TOPIC_STATE_INCLUDED
@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>