<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Z-Wave Protocol Controller: Zwave_s2_keystore</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Z-Wave Protocol Controller
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__zwave__s2__keystore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Zwave_s2_keystore<div class="ingroups"><a class="el" href="group__components.html">ZPC components</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Z-Wave Keystore.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnvm__config.html">nvm_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga87cd481b02e151f51cba6ec01bdc6b73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga87cd481b02e151f51cba6ec01bdc6b73">NVM_MAGIC</a>&#160;&#160;&#160;0xa11d1900</td></tr>
<tr class="separator:ga87cd481b02e151f51cba6ec01bdc6b73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e5f3348c7bc6083c334c9f5b1b2017a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga5e5f3348c7bc6083c334c9f5b1b2017a">nvm_config_get</a>(par_name,  dst)</td></tr>
<tr class="separator:ga5e5f3348c7bc6083c334c9f5b1b2017a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2781bb1d6b2146e8662c95f15e76d78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#gad2781bb1d6b2146e8662c95f15e76d78">nvm_config_set</a>(par_name,  src)</td></tr>
<tr class="separator:gad2781bb1d6b2146e8662c95f15e76d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga35f3a041ee4a3465cf4675357f420cb8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a> { <a class="el" href="group__zwave__s2__keystore.html#gga35f3a041ee4a3465cf4675357f420cb8ad230e2d1c6e316af6b091113ef4b6cd5">ZWAVE_S2_KEYSTORE_STATIC_ECDH_KEY</a>, 
<a class="el" href="group__zwave__s2__keystore.html#gga35f3a041ee4a3465cf4675357f420cb8a1c5e7f52deb922e278543daf52bfa99e">ZWAVE_S2_KEYSTORE_DYNAMIC_ECDH_KEY</a>
 }</td></tr>
<tr class="memdesc:ga35f3a041ee4a3465cf4675357f420cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECDH key mode types.  <a href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">More...</a><br /></td></tr>
<tr class="separator:ga35f3a041ee4a3465cf4675357f420cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaaa90915209c3b118a05cc8adb221f83e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#gaaa90915209c3b118a05cc8adb221f83e">zwave_s2_keystore_get_dsk</a> (<a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a> mode, <a class="el" href="zwave__controller__types_8h.html#a437b381aa677af21a3c25f4587bda65b">zwave_dsk_t</a> dsk)</td></tr>
<tr class="memdesc:gaaa90915209c3b118a05cc8adb221f83e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return one of the DSKs of the controller.  <a href="group__zwave__s2__keystore.html#gaaa90915209c3b118a05cc8adb221f83e">More...</a><br /></td></tr>
<tr class="separator:gaaa90915209c3b118a05cc8adb221f83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42cbe7b3856c32fcde78b52c3b0be2ae"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga42cbe7b3856c32fcde78b52c3b0be2ae">zwave_s2_keystore_get_assigned_keys</a> ()</td></tr>
<tr class="memdesc:ga42cbe7b3856c32fcde78b52c3b0be2ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the set of the currently assigned keys.  <a href="group__zwave__s2__keystore.html#ga42cbe7b3856c32fcde78b52c3b0be2ae">More...</a><br /></td></tr>
<tr class="separator:ga42cbe7b3856c32fcde78b52c3b0be2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca2ffce4fcd92466c1eaa43e7c5dbaab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#gaca2ffce4fcd92466c1eaa43e7c5dbaab">zwave_s2_create_new_network_keys</a> ()</td></tr>
<tr class="separator:gaca2ffce4fcd92466c1eaa43e7c5dbaab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e7eb7c062ee0f17a650a0e7ca7c9831"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga6e7eb7c062ee0f17a650a0e7ca7c9831">zwave_s2_log_security_keys</a> (<a class="el" href="group__sl__log.html#gacd69524374ffb27db69ca4d5ed0e6851">sl_log_level_t</a> log_level)</td></tr>
<tr class="separator:ga6e7eb7c062ee0f17a650a0e7ca7c9831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b02b6697068458abd187adc24baae4d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structnvm__config.html">nvm_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga0b02b6697068458abd187adc24baae4d">__attribute__</a> ((__packed__)) nvm_config_t</td></tr>
<tr class="separator:ga0b02b6697068458abd187adc24baae4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad872f58f76c4d4974b5fe50ac641004b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#gad872f58f76c4d4974b5fe50ac641004b">zwave_s2_keystore_init</a> ()</td></tr>
<tr class="memdesc:gad872f58f76c4d4974b5fe50ac641004b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the keystore.  <a href="group__zwave__s2__keystore.html#gad872f58f76c4d4974b5fe50ac641004b">More...</a><br /></td></tr>
<tr class="separator:gad872f58f76c4d4974b5fe50ac641004b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24eb7d30be4a7bac0c387a98640a1be9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga24eb7d30be4a7bac0c387a98640a1be9">zwave_s2_create_new_dynamic_ecdh_key</a> ()</td></tr>
<tr class="separator:ga24eb7d30be4a7bac0c387a98640a1be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a7d6a1c6107a1eadcdd959fe53dd229"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__zwave__s2__keystore.html#ga0a7d6a1c6107a1eadcdd959fe53dd229">zwave_s2_keystore_set_ecdh_key_mode</a> (<a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a> mode)</td></tr>
<tr class="memdesc:ga0a7d6a1c6107a1eadcdd959fe53dd229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set ecdh key mode for use in zwave_s2_keystore.  <a href="group__zwave__s2__keystore.html#ga0a7d6a1c6107a1eadcdd959fe53dd229">More...</a><br /></td></tr>
<tr class="separator:ga0a7d6a1c6107a1eadcdd959fe53dd229"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Z-Wave Keystore. </p>
<p>Internal functions for the Keystore.</p>
<p>The Z-Wave keystore is storing, accesing and gerating the Z-Wave network keys as well as the ECDH keys which are used in Security 2. All keys are stored in the NVM of the Z-Wave module. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga5e5f3348c7bc6083c334c9f5b1b2017a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e5f3348c7bc6083c334c9f5b1b2017a">&#9670;&nbsp;</a></span>nvm_config_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nvm_config_get</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">dst&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <a class="code" href="group__ZWAPI__MEM.html#ga8ec9372079a3bd76196bfe41dd92ed04">zwapi_memory_get_buffer</a>(<a class="code" href="transport__service_8c.html#ad89ebe5fe5ad08c683f0871118ea8e2f">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structnvm__config.html">nvm_config</a>, par_name), \</div>
<div class="line">                          (uint8_t*)dst,                         \</div>
<div class="line">                          <span class="keyword">sizeof</span>(((<span class="keyword">struct</span> <a class="code" href="structnvm__config.html">nvm_config</a> *)0)-&gt;par_name))</div>
</div><!-- fragment -->
</div>
</div>
<a id="gad2781bb1d6b2146e8662c95f15e76d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2781bb1d6b2146e8662c95f15e76d78">&#9670;&nbsp;</a></span>nvm_config_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define nvm_config_set</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">par_name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">src&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">  <a class="code" href="group__ZWAPI__MEM.html#gacb5c44761a7cf79639491da5b30638fe">zwapi_memory_put_buffer</a>(<a class="code" href="transport__service_8c.html#ad89ebe5fe5ad08c683f0871118ea8e2f">offsetof</a>(<span class="keyword">struct</span> <a class="code" href="structnvm__config.html">nvm_config</a>, par_name),      \</div>
<div class="line">                          (uint8_t*)src,                               \</div>
<div class="line">                          <span class="keyword">sizeof</span>(((<span class="keyword">struct</span> <a class="code" href="structnvm__config.html">nvm_config</a> *)0)-&gt;par_name), \</div>
<div class="line">                          <a class="code" href="group__list.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga87cd481b02e151f51cba6ec01bdc6b73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87cd481b02e151f51cba6ec01bdc6b73">&#9670;&nbsp;</a></span>NVM_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NVM_MAGIC&#160;&#160;&#160;0xa11d1900</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga35f3a041ee4a3465cf4675357f420cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35f3a041ee4a3465cf4675357f420cb8">&#9670;&nbsp;</a></span>zwave_s2_keystore_ecdh_key_mode_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ECDH key mode types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga35f3a041ee4a3465cf4675357f420cb8ad230e2d1c6e316af6b091113ef4b6cd5"></a>ZWAVE_S2_KEYSTORE_STATIC_ECDH_KEY&#160;</td><td class="fielddoc"><p>This is a static key used for being included when at least one Authenticated Security Class is granted. It matches the ZPC's DSK exchanged out of band. This key is fetched from the NVM of the module. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga35f3a041ee4a3465cf4675357f420cb8a1c5e7f52deb922e278543daf52bfa99e"></a>ZWAVE_S2_KEYSTORE_DYNAMIC_ECDH_KEY&#160;</td><td class="fielddoc"><p>This is a dynamic key used for</p><ol type="1">
<li>Including new nodes (add mode)</li>
<li>Being included when no Authenticated Security Class is granted. The key must be regenerated after each S2 bootstrapping attempt </li>
</ol>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0b02b6697068458abd187adc24baae4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b02b6697068458abd187adc24baae4d">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structnvm__config.html">nvm_config</a> __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(__packed__)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga24eb7d30be4a7bac0c387a98640a1be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga24eb7d30be4a7bac0c387a98640a1be9">&#9670;&nbsp;</a></span>zwave_s2_create_new_dynamic_ecdh_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_create_new_dynamic_ecdh_key </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new Elliptic curve key for add node mode and for unauthenticated learnmode. </p>

</div>
</div>
<a id="gaca2ffce4fcd92466c1eaa43e7c5dbaab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaca2ffce4fcd92466c1eaa43e7c5dbaab">&#9670;&nbsp;</a></span>zwave_s2_create_new_network_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_create_new_network_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create new random network keys, which marks all keys as granted. </p>

</div>
</div>
<a id="ga42cbe7b3856c32fcde78b52c3b0be2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42cbe7b3856c32fcde78b52c3b0be2ae">&#9670;&nbsp;</a></span>zwave_s2_keystore_get_assigned_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t zwave_s2_keystore_get_assigned_keys </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the set of the currently assigned keys. </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t Bit field of keys </dd></dl>

</div>
</div>
<a id="gaaa90915209c3b118a05cc8adb221f83e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa90915209c3b118a05cc8adb221f83e">&#9670;&nbsp;</a></span>zwave_s2_keystore_get_dsk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_keystore_get_dsk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="zwave__controller__types_8h.html#a437b381aa677af21a3c25f4587bda65b">zwave_dsk_t</a>&#160;</td>
          <td class="paramname"><em>dsk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return one of the DSKs of the controller. </p>
<p>This function can be used fetch the DSK of the controller. There are two use cases of this, as follows:</p><ol type="1">
<li>When including the controller into an other z-wave network, in this case the ZWAVE_S2_KEYSTORE_STATIC_ECDH_KEY should be used.</li>
<li>When including a node using CSA inclusion, In this case the ZWAVE_S2_KEYSTORE_DYNAMIC_ECDH_KEY should be used.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>Which dsk to get. </td></tr>
    <tr><td class="paramname">dsk</td><td>pointer to a zwave_dsk_t to copy the dsk to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad872f58f76c4d4974b5fe50ac641004b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad872f58f76c4d4974b5fe50ac641004b">&#9670;&nbsp;</a></span>zwave_s2_keystore_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_keystore_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the keystore. </p>
<p>This also validates the nvm contents. If the validation fails new keys are g generated. </p>

</div>
</div>
<a id="ga0a7d6a1c6107a1eadcdd959fe53dd229"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a7d6a1c6107a1eadcdd959fe53dd229">&#9670;&nbsp;</a></span>zwave_s2_keystore_set_ecdh_key_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_keystore_set_ecdh_key_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__zwave__s2__keystore.html#ga35f3a041ee4a3465cf4675357f420cb8">zwave_s2_keystore_ecdh_key_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set ecdh key mode for use in zwave_s2_keystore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>ecdh key mode to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6e7eb7c062ee0f17a650a0e7ca7c9831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e7eb7c062ee0f17a650a0e7ca7c9831">&#9670;&nbsp;</a></span>zwave_s2_log_security_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zwave_s2_log_security_keys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__sl__log.html#gacd69524374ffb27db69ca4d5ed0e6851">sl_log_level_t</a>&#160;</td>
          <td class="paramname"><em>log_level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Logs the Security Keys using sl_log. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_level</td><td>The Log leve to use to log the keys. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__ZWAPI__MEM_html_gacb5c44761a7cf79639491da5b30638fe"><div class="ttname"><a href="group__ZWAPI__MEM.html#gacb5c44761a7cf79639491da5b30638fe">zwapi_memory_put_buffer</a></div><div class="ttdeci">uint8_t zwapi_memory_put_buffer(uint16_t offset, const uint8_t *buffer, uint16_t length, void(*callback_function)(void))</div><div class="ttdoc">Copy the number of bytes to the EEPROM.</div><div class="ttdef"><b>Definition:</b> zwapi_protocol_mem_mock.c:87</div></div>
<div class="ttc" id="astructnvm__config_html"><div class="ttname"><a href="structnvm__config.html">nvm_config</a></div><div class="ttdef"><b>Definition:</b> zwave_s2_keystore_int.h:36</div></div>
<div class="ttc" id="agroup__ZWAPI__MEM_html_ga8ec9372079a3bd76196bfe41dd92ed04"><div class="ttname"><a href="group__ZWAPI__MEM.html#ga8ec9372079a3bd76196bfe41dd92ed04">zwapi_memory_get_buffer</a></div><div class="ttdeci">sl_status_t zwapi_memory_get_buffer(uint16_t offset, uint8_t *buffer, uint8_t length)</div><div class="ttdoc">Read the number of bytes from the EEPROM.</div><div class="ttdef"><b>Definition:</b> zwapi_protocol_mem_mock.c:75</div></div>
<div class="ttc" id="agroup__list_html_ga070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="group__list.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> list.c:50</div></div>
<div class="ttc" id="atransport__service_8c_html_ad89ebe5fe5ad08c683f0871118ea8e2f"><div class="ttname"><a href="transport__service_8c.html#ad89ebe5fe5ad08c683f0871118ea8e2f">offsetof</a></div><div class="ttdeci">#define offsetof(s, m)</div><div class="ttdef"><b>Definition:</b> transport_service.c:33</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 5 2021 19:42:11 for Z-Wave Protocol Controller by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
