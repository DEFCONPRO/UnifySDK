<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Protocol Controller: applications/zigpc/components/z3gateway/src/z3gateway_ota_server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Protocol Controller
   &#160;<span id="projectnumber">1.0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('z3gateway__ota__server_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">z3gateway_ota_server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="z3gateway__common_8h_source.html">z3gateway_common.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aed82e191ec2439914cb638dce1f60231"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway__ota__server_8c.html#aed82e191ec2439914cb638dce1f60231">emberAfPluginOtaServerBlockSentCallback</a> (uint8_t actualLength, uint16_t manufacturerId, uint16_t imageTypeId, <a class="el" href="classuint32__t.html">uint32_t</a> firmwareVersion)</td></tr>
<tr class="memdesc:aed82e191ec2439914cb638dce1f60231"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Server Block Sent Callback.  <a href="z3gateway__ota__server_8c.html#aed82e191ec2439914cb638dce1f60231">More...</a><br /></td></tr>
<tr class="separator:aed82e191ec2439914cb638dce1f60231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78d669a7f714520d941417cd6a69703"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway__ota__server_8c.html#aa78d669a7f714520d941417cd6a69703">emberAfPluginOtaServerPolicyGetClientDelayUnits</a> (EmberNodeId clientNodeId, EmberEUI64 clientEui64)</td></tr>
<tr class="memdesc:aa78d669a7f714520d941417cd6a69703"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Server Get Client Delay Units.  <a href="z3gateway__ota__server_8c.html#aa78d669a7f714520d941417cd6a69703">More...</a><br /></td></tr>
<tr class="separator:aa78d669a7f714520d941417cd6a69703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0b58ebbc39b9862eeeedc8ef162431c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway__ota__server_8c.html#af0b58ebbc39b9862eeeedc8ef162431c">emberAfPluginOtaServerUpdateStartedCallback</a> (uint16_t manufacturerId, uint16_t imageTypeId, <a class="el" href="classuint32__t.html">uint32_t</a> firmwareVersion, uint8_t maxDataSize, <a class="el" href="classuint32__t.html">uint32_t</a> offset)</td></tr>
<tr class="memdesc:af0b58ebbc39b9862eeeedc8ef162431c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Server Update Started Callback.  <a href="z3gateway__ota__server_8c.html#af0b58ebbc39b9862eeeedc8ef162431c">More...</a><br /></td></tr>
<tr class="separator:af0b58ebbc39b9862eeeedc8ef162431c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a018bd99c313d7d2530cab9754d130e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway__ota__server_8c.html#a018bd99c313d7d2530cab9754d130e9c">emberAfPluginOtaServerUpdateCompleteCallback</a> (uint16_t manufacturerId, uint16_t imageTypeId, <a class="el" href="classuint32__t.html">uint32_t</a> firmwareVersion, EmberNodeId source, uint8_t status)</td></tr>
<tr class="memdesc:a018bd99c313d7d2530cab9754d130e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">OTA Server Update Complete Callback.  <a href="z3gateway__ota__server_8c.html#a018bd99c313d7d2530cab9754d130e9c">More...</a><br /></td></tr>
<tr class="separator:a018bd99c313d7d2530cab9754d130e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae26a2ecb86f648c8073be13bf71bfd70"><td class="memItemLeft" align="right" valign="top">EmberStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#gae26a2ecb86f648c8073be13bf71bfd70">z3gatewayAddOtaImage</a> (const char *filename)</td></tr>
<tr class="memdesc:gae26a2ecb86f648c8073be13bf71bfd70"><td class="mdescLeft">&#160;</td><td class="mdescRight">z3gatewayAddOtaImage Manually adds an OtaImage to the ota-server plugin  <a href="group__z3gateway.html#gae26a2ecb86f648c8073be13bf71bfd70">More...</a><br /></td></tr>
<tr class="separator:gae26a2ecb86f648c8073be13bf71bfd70"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed82e191ec2439914cb638dce1f60231"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed82e191ec2439914cb638dce1f60231">&#9670;&nbsp;</a></span>emberAfPluginOtaServerBlockSentCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaServerBlockSentCallback </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>actualLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>manufacturerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>imageTypeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>firmwareVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Server Block Sent Callback. </p>
<p>This function will be called when a block is sent to a device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actualLength</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">manufacturerId</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">imageTypeId</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">firmwareVersion</td><td>Ver.: always </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa78d669a7f714520d941417cd6a69703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa78d669a7f714520d941417cd6a69703">&#9670;&nbsp;</a></span>emberAfPluginOtaServerPolicyGetClientDelayUnits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t emberAfPluginOtaServerPolicyGetClientDelayUnits </td>
          <td>(</td>
          <td class="paramtype">EmberNodeId&#160;</td>
          <td class="paramname"><em>clientNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EmberEUI64&#160;</td>
          <td class="paramname"><em>clientEui64</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Server Get Client Delay Units. </p>
<p>Called when the server receives an Image Block Request from a client that supports rate limiting using the Minimum Block Period feature. This callback gives the server a chance to decide which units the client uses for the Minimum Block Period, seconds or milliseconds. The server can also return OTA_SERVER_DISCOVER_CLIENT_DELAY_UNITS, which causes the plugin code to test the client by sending it a preset delay value. The length of time the client delays determines which units it uses. For more information on this feature, please read the plugin option descriptions under the OTA Server plugin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientNodeId</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">clientEui64</td><td>Ver.: always</td></tr>
  </table>
  </dd>
</dl>
<p>For return values, see ota-server-policy.h. An unknown return value will result in the same behavior as if OTA_SERVER_CLIENT_USES_MILLISECONDS had been returned. </p>

</div>
</div>
<a id="a018bd99c313d7d2530cab9754d130e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a018bd99c313d7d2530cab9754d130e9c">&#9670;&nbsp;</a></span>emberAfPluginOtaServerUpdateCompleteCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaServerUpdateCompleteCallback </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>manufacturerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>imageTypeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>firmwareVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EmberNodeId&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Server Update Complete Callback. </p>
<p>This function will be called when an OTA update has finished.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manufacturerId</td><td>ManufacturerId. </td></tr>
    <tr><td class="paramname">imageTypeId</td><td>Image Type Id. </td></tr>
    <tr><td class="paramname">firmwareVersion</td><td>Firmware Version. </td></tr>
    <tr><td class="paramname">source</td><td>Source node id. </td></tr>
    <tr><td class="paramname">status</td><td>Status of update. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af0b58ebbc39b9862eeeedc8ef162431c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0b58ebbc39b9862eeeedc8ef162431c">&#9670;&nbsp;</a></span>emberAfPluginOtaServerUpdateStartedCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaServerUpdateStartedCallback </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>manufacturerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>imageTypeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>firmwareVersion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>maxDataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classuint32__t.html">uint32_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>OTA Server Update Started Callback. </p>
<p>Called when an OTA upgrade starts.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manufacturerId</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">imageTypeId</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">firmwareVersion</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">maxDataSize</td><td>Ver.: always </td></tr>
    <tr><td class="paramname">offset</td><td>Ver.: always </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_fcadbd503984564e27bcda7a4aa33b0f.html">zigpc</a></li><li class="navelem"><a class="el" href="dir_5426e8af32fac66c5da7ecb2763e469f.html">components</a></li><li class="navelem"><a class="el" href="dir_d068be7b5e98c454d73184551add16b7.html">z3gateway</a></li><li class="navelem"><a class="el" href="dir_a711830c5f388e3183ed7da7e736742b.html">src</a></li><li class="navelem"><a class="el" href="z3gateway__ota__server_8c.html">z3gateway_ota_server.c</a></li>
    <li class="footer">Generated on Fri Oct 8 2021 09:58:35 for Zigbee Protocol Controller by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
