<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Protocol Controller: applications/zigpc/components/z3gateway/src/z3gateway.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Protocol Controller
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('z3gateway_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">z3gateway.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;znet-bookkeeping.h&quot;</code><br />
<code>#include &quot;linux-serial.h&quot;</code><br />
<code>#include &quot;<a class="el" href="z3gateway_8h_source.html">z3gateway.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="z3gateway__common_8h_source.html">z3gateway_common.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6a07a4857a7eb4a7490dd9f7a9e68bc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a6a07a4857a7eb4a7490dd9f7a9e68bc6">Z3GATEWAY_EMBERAF_ARGV_LEN</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a6a07a4857a7eb4a7490dd9f7a9e68bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031e3baff1f17e613a40c224069b49f7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a031e3baff1f17e613a40c224069b49f7">Z3GATEWAY_EMBERAF_ARG0</a>&#160;&#160;&#160;&quot;z3gateway&quot;</td></tr>
<tr class="separator:a031e3baff1f17e613a40c224069b49f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab492bc5b6040d0384fc8b2b439af46bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#gab492bc5b6040d0384fc8b2b439af46bf">z3gatewayInit</a> (struct <a class="el" href="structz3gatewayOpts.html">z3gatewayOpts</a> *opts)</td></tr>
<tr class="memdesc:gab492bc5b6040d0384fc8b2b439af46bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Z3Gateway framework.  <a href="group__z3gateway.html#gab492bc5b6040d0384fc8b2b439af46bf">More...</a><br /></td></tr>
<tr class="separator:gab492bc5b6040d0384fc8b2b439af46bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga527ebb2c939008b4fe4ae2b00af9258c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#ga527ebb2c939008b4fe4ae2b00af9258c">z3gatewayTick</a> (void)</td></tr>
<tr class="memdesc:ga527ebb2c939008b4fe4ae2b00af9258c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call the Z3Gateway tick function.  <a href="group__z3gateway.html#ga527ebb2c939008b4fe4ae2b00af9258c">More...</a><br /></td></tr>
<tr class="separator:ga527ebb2c939008b4fe4ae2b00af9258c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76352344ef57259fd3b334d7533331bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#ga76352344ef57259fd3b334d7533331bc">z3gatewayShutdown</a> (void)</td></tr>
<tr class="memdesc:ga76352344ef57259fd3b334d7533331bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform cleanup routines for Z3Gateway.  <a href="group__z3gateway.html#ga76352344ef57259fd3b334d7533331bc">More...</a><br /></td></tr>
<tr class="separator:ga76352344ef57259fd3b334d7533331bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4baac82597e3f2afc110a3ce249ada43"><td class="memItemLeft" align="right" valign="top">EmberStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#ga4baac82597e3f2afc110a3ce249ada43">z3gatewayGetEmberKey</a> (EmberKeyType type, EmberKeyStruct *const key)</td></tr>
<tr class="memdesc:ga4baac82597e3f2afc110a3ce249ada43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populate Ember key data specified by the type.  <a href="group__z3gateway.html#ga4baac82597e3f2afc110a3ce249ada43">More...</a><br /></td></tr>
<tr class="separator:ga4baac82597e3f2afc110a3ce249ada43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5715dca10e7896340a612b3f29271eac"><td class="memItemLeft" align="right" valign="top">EzspStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__z3gateway.html#ga5715dca10e7896340a612b3f29271eac">z3gatewaySetEzspPolicy</a> (EzspPolicyId policyId, EzspDecisionId decisionId, const char *policyName, const char *decisionName)</td></tr>
<tr class="memdesc:ga5715dca10e7896340a612b3f29271eac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set EZSP policy on the ZigPC NCP.  <a href="group__z3gateway.html#ga5715dca10e7896340a612b3f29271eac">More...</a><br /></td></tr>
<tr class="separator:ga5715dca10e7896340a612b3f29271eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65064a46ee99097caee378717b53a39c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a65064a46ee99097caee378717b53a39c">emberAfMainInitCallback</a> (void)</td></tr>
<tr class="memdesc:a65064a46ee99097caee378717b53a39c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main Init.  <a href="z3gateway_8c.html#a65064a46ee99097caee378717b53a39c">More...</a><br /></td></tr>
<tr class="separator:a65064a46ee99097caee378717b53a39c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7675189c5ef8fbec6f858ebf23b9a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a1c7675189c5ef8fbec6f858ebf23b9a4">emberAfNcpInitCallback</a> (bool memoryAllocation)</td></tr>
<tr class="memdesc:a1c7675189c5ef8fbec6f858ebf23b9a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ncp Init.  <a href="z3gateway_8c.html#a1c7675189c5ef8fbec6f858ebf23b9a4">More...</a><br /></td></tr>
<tr class="separator:a1c7675189c5ef8fbec6f858ebf23b9a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad2fabfefc181655196b50dafb6afed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a2ad2fabfefc181655196b50dafb6afed">emberAfPluginZclFrameworkCoreEzspErrorCallback</a> (EzspStatus status)</td></tr>
<tr class="memdesc:a2ad2fabfefc181655196b50dafb6afed"><td class="mdescLeft">&#160;</td><td class="mdescRight">EZSP Error Handler.  <a href="z3gateway_8c.html#a2ad2fabfefc181655196b50dafb6afed">More...</a><br /></td></tr>
<tr class="separator:a2ad2fabfefc181655196b50dafb6afed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a249abb5c32af3421f2daa4e1ecbfc0d7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structz3gatewayState.html">z3gatewayState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="z3gateway_8c.html#a249abb5c32af3421f2daa4e1ecbfc0d7">z3gwState</a></td></tr>
<tr class="separator:a249abb5c32af3421f2daa4e1ecbfc0d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a031e3baff1f17e613a40c224069b49f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031e3baff1f17e613a40c224069b49f7">&#9670;&nbsp;</a></span>Z3GATEWAY_EMBERAF_ARG0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Z3GATEWAY_EMBERAF_ARG0&#160;&#160;&#160;&quot;z3gateway&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a07a4857a7eb4a7490dd9f7a9e68bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a07a4857a7eb4a7490dd9f7a9e68bc6">&#9670;&nbsp;</a></span>Z3GATEWAY_EMBERAF_ARGV_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Z3GATEWAY_EMBERAF_ARGV_LEN&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a65064a46ee99097caee378717b53a39c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65064a46ee99097caee378717b53a39c">&#9670;&nbsp;</a></span>emberAfMainInitCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfMainInitCallback </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main Init. </p>
<p>EmberAf callbacks <br  />
</p>
<p>This function is called from the application's main function. It gives the application a chance to do any initialization required at system startup. Any code that you would normally put into the top of the application's <a class="el" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main()</a> routine should be put into this function. This is called before the clusters, plugins, and the network are initialized so some functionality is not yet available. Note: No callback in the Application Framework is associated with resource cleanup. If you are implementing your application on a Unix host where resource cleanup is a consideration, we expect that you will use the standard Posix system calls, including the use of atexit() and handlers for signals such as SIGTERM, SIGINT, SIGCHLD, SIGPIPE and so on. If you use the signal() function to register your signal handler, please mind the returned value which may be an Application Framework function. If the return value is non-null, please make sure that you call the returned function from your handler to avoid negating the resource cleanup of the Application Framework itself. </p>

</div>
</div>
<a id="a1c7675189c5ef8fbec6f858ebf23b9a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7675189c5ef8fbec6f858ebf23b9a4">&#9670;&nbsp;</a></span>emberAfNcpInitCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfNcpInitCallback </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>memoryAllocation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ncp Init. </p>
<p>This function is called when the network coprocessor is being initialized, either at startup or upon reset. It provides applications on opportunity to perform additional configuration of the NCP. The function is always called twice when the NCP is initialized. In the first invocation, memoryAllocation will be true and the application should only issue EZSP commands that affect memory allocation on the NCP. For example, tables on the NCP can be resized in the first call. In the second invocation, memoryAllocation will be false and the application should only issue EZSP commands that do not affect memory allocation. For example, tables on the NCP can be populated in the second call. This callback is not called on SoCs.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memoryAllocation</td><td>Ver.: always </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2ad2fabfefc181655196b50dafb6afed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad2fabfefc181655196b50dafb6afed">&#9670;&nbsp;</a></span>emberAfPluginZclFrameworkCoreEzspErrorCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginZclFrameworkCoreEzspErrorCallback </td>
          <td>(</td>
          <td class="paramtype">EzspStatus&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>EZSP Error Handler. </p>
<p>This callback is fired when the host process receives an error from the EZSP link when talking to the NCP. The return boolean gives the user application the option to reboot the NCP. If this function returns true, the NCP will be rebooted and the connection between the host and NCP will drop. If not, the NCP will continue operating.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The EzspStatus error code received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True to reset NCP, false not to.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This callback is only fired on the host application. It has no use for SoC or NCP applications. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a249abb5c32af3421f2daa4e1ecbfc0d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a249abb5c32af3421f2daa4e1ecbfc0d7">&#9670;&nbsp;</a></span>z3gwState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structz3gatewayState.html">z3gatewayState</a> z3gwState</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_a6e4fee11f07c3b70486e88fe92cbbdc.html">applications</a></li><li class="navelem"><a class="el" href="dir_fcadbd503984564e27bcda7a4aa33b0f.html">zigpc</a></li><li class="navelem"><a class="el" href="dir_5426e8af32fac66c5da7ecb2763e469f.html">components</a></li><li class="navelem"><a class="el" href="dir_d068be7b5e98c454d73184551add16b7.html">z3gateway</a></li><li class="navelem"><a class="el" href="dir_a711830c5f388e3183ed7da7e736742b.html">src</a></li><li class="navelem"><a class="el" href="z3gateway_8c.html">z3gateway.c</a></li>
    <li class="footer">Generated on Fri Nov 5 2021 19:42:09 for Zigbee Protocol Controller by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
