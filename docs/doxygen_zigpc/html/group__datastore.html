<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zigbee Protocol Controller: Datastore</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zigbee Protocol Controller
   &#160;<span id="projectnumber">1.0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__datastore.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Datastore</div>  </div>
</div><!--header-->
<div class="contents">

<p>Persistent Datastore.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__datastore__attributes"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore__attributes.html">Attributes storage.</a></td></tr>
<tr class="memdesc:group__datastore__attributes"><td class="mdescLeft">&#160;</td><td class="mdescRight">Datastore API for Attributes (from the <a class="el" href="group__attribute__store.html">Attribute Store</a>) <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf8f53f9a972f142a44775daa78d8d95f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#gaf8f53f9a972f142a44775daa78d8d95f">UIC_VERSION_MAX_LEN</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:gaf8f53f9a972f142a44775daa78d8d95f"><td class="mdescLeft">&#160;</td><td class="mdescRight">: MAX Length of typical version string: for e.g. ver_0.0.6_RC1-269-gb5a9d4be  <a href="group__datastore.html#gaf8f53f9a972f142a44775daa78d8d95f">More...</a><br /></td></tr>
<tr class="separator:gaf8f53f9a972f142a44775daa78d8d95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf5b54b66e8ded7f7ed747fd984b38a67"><td class="memItemLeft" align="right" valign="top">typedef const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a></td></tr>
<tr class="separator:gaf5b54b66e8ded7f7ed747fd984b38a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae3b9b254eca70856009a3819db29e630"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#gae3b9b254eca70856009a3819db29e630">datastore_init</a> (const char *database_path)</td></tr>
<tr class="memdesc:gae3b9b254eca70856009a3819db29e630"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Datastore component.  <a href="group__datastore.html#gae3b9b254eca70856009a3819db29e630">More...</a><br /></td></tr>
<tr class="separator:gae3b9b254eca70856009a3819db29e630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94ec0317094e42566008726743f2ebfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a> ()</td></tr>
<tr class="memdesc:ga94ec0317094e42566008726743f2ebfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tear down the Datastore component.  <a href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">More...</a><br /></td></tr>
<tr class="separator:ga94ec0317094e42566008726743f2ebfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga186f7732210b648fbb2f01d582a300bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga186f7732210b648fbb2f01d582a300bc">datastore_store_int</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, int64_t value)</td></tr>
<tr class="memdesc:ga186f7732210b648fbb2f01d582a300bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store integer in the persistent datastore.  <a href="group__datastore.html#ga186f7732210b648fbb2f01d582a300bc">More...</a><br /></td></tr>
<tr class="separator:ga186f7732210b648fbb2f01d582a300bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">datastore_fetch_int</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, int64_t *value)</td></tr>
<tr class="memdesc:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch integer from the persistent datastore.  <a href="group__datastore.html#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">More...</a><br /></td></tr>
<tr class="separator:ga3d4cfb0e60a2bbe38b06cd0a18c44e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga0f8c7d6d90714c59bbe2e96612fc3456">datastore_store_arr</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, const uint8_t *value, unsigned int size)</td></tr>
<tr class="memdesc:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store array in the persistent datastore.  <a href="group__datastore.html#ga0f8c7d6d90714c59bbe2e96612fc3456">More...</a><br /></td></tr>
<tr class="separator:ga0f8c7d6d90714c59bbe2e96612fc3456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga9c7c1b82e7633e21afdaf7c3528a55ce">datastore_fetch_arr</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key, uint8_t *value, unsigned int *size)</td></tr>
<tr class="memdesc:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch array from the persistent datastore.  <a href="group__datastore.html#ga9c7c1b82e7633e21afdaf7c3528a55ce">More...</a><br /></td></tr>
<tr class="separator:ga9c7c1b82e7633e21afdaf7c3528a55ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb2f9b226013622e4be8f33e5881d7a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#gacb2f9b226013622e4be8f33e5881d7a7">datastore_contains_arr</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key)</td></tr>
<tr class="memdesc:gacb2f9b226013622e4be8f33e5881d7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the datastore contains an array value for given key.  <a href="group__datastore.html#gacb2f9b226013622e4be8f33e5881d7a7">More...</a><br /></td></tr>
<tr class="separator:gacb2f9b226013622e4be8f33e5881d7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01f271e79b6fb61695e882e25ad1a202"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga01f271e79b6fb61695e882e25ad1a202">datastore_contains_int</a> (<a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a> key)</td></tr>
<tr class="memdesc:ga01f271e79b6fb61695e882e25ad1a202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the datastore contains an int value for given key.  <a href="group__datastore.html#ga01f271e79b6fb61695e882e25ad1a202">More...</a><br /></td></tr>
<tr class="separator:ga01f271e79b6fb61695e882e25ad1a202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga773629100622f127a5577e52e0ff2ce7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga773629100622f127a5577e52e0ff2ce7">datastore_fixt_setup</a> (void)</td></tr>
<tr class="memdesc:ga773629100622f127a5577e52e0ff2ce7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixture for setting up the datastore component.  <a href="group__datastore.html#ga773629100622f127a5577e52e0ff2ce7">More...</a><br /></td></tr>
<tr class="separator:ga773629100622f127a5577e52e0ff2ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga373160cc3a345e23f2adef4dbc0654bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga373160cc3a345e23f2adef4dbc0654bf">datastore_fixt_teardown</a> ()</td></tr>
<tr class="memdesc:ga373160cc3a345e23f2adef4dbc0654bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixture to tear down the datastore.  <a href="group__datastore.html#ga373160cc3a345e23f2adef4dbc0654bf">More...</a><br /></td></tr>
<tr class="separator:ga373160cc3a345e23f2adef4dbc0654bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga150d11fe4b3bafcb95acc9e4ea6a36b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__datastore.html#ga150d11fe4b3bafcb95acc9e4ea6a36b1">datastore_fixt_setup_and_handle_version</a> (int64_t db_version)</td></tr>
<tr class="memdesc:ga150d11fe4b3bafcb95acc9e4ea6a36b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for setting up the datastore component handling the datastore version.  <a href="group__datastore.html#ga150d11fe4b3bafcb95acc9e4ea6a36b1">More...</a><br /></td></tr>
<tr class="separator:ga150d11fe4b3bafcb95acc9e4ea6a36b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Persistent Datastore. </p>
<p>Persistent datastore, that allows for storing key-value pair. The users of this component must handle updating own values if format change between versions. Keys are zero terminated strings</p>
<p>Fixture to initialize the datastore from uic_main, in order to enable the Datastore in a UIC application, add <a class="el" href="group__datastore.html#ga773629100622f127a5577e52e0ff2ce7">datastore_fixt_setup</a> to the fixt_setup array, when calling <a class="el" href="group__uic__main.html">Main Function for Contiki</a> </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gaf8f53f9a972f142a44775daa78d8d95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8f53f9a972f142a44775daa78d8d95f">&#9670;&nbsp;</a></span>UIC_VERSION_MAX_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UIC_VERSION_MAX_LEN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>: MAX Length of typical version string: for e.g. ver_0.0.6_RC1-269-gb5a9d4be </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaf5b54b66e8ded7f7ed747fd984b38a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf5b54b66e8ded7f7ed747fd984b38a67">&#9670;&nbsp;</a></span>datastore_key_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef const char* <a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gacb2f9b226013622e4be8f33e5881d7a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb2f9b226013622e4be8f33e5881d7a7">&#9670;&nbsp;</a></span>datastore_contains_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool datastore_contains_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the datastore contains an array value for given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to check if is in the datastore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if key is present in the datatore else false </dd></dl>

</div>
</div>
<a id="ga01f271e79b6fb61695e882e25ad1a202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01f271e79b6fb61695e882e25ad1a202">&#9670;&nbsp;</a></span>datastore_contains_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool datastore_contains_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the datastore contains an int value for given key. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to check if is in the datastore </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if key is present in the datatore else false </dd></dl>

</div>
</div>
<a id="ga9c7c1b82e7633e21afdaf7c3528a55ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c7c1b82e7633e21afdaf7c3528a55ce">&#9670;&nbsp;</a></span>datastore_fetch_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fetch_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch array from the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to fetch value under </td></tr>
    <tr><td class="paramname">value</td><td>Destination for the key </td></tr>
    <tr><td class="paramname">size</td><td>In: the size of value, Out: Number of bytes written to value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_NOT_FOUND if key is not found, SL_STATUS_WOULD_OVERFLOW if fetched data is larger than size SL_STATUS_FAIL if other failure, </dd></dl>

</div>
</div>
<a id="ga3d4cfb0e60a2bbe38b06cd0a18c44e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d4cfb0e60a2bbe38b06cd0a18c44e32">&#9670;&nbsp;</a></span>datastore_fetch_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fetch_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch integer from the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to fetch value under </td></tr>
    <tr><td class="paramname">value</td><td>Destination for the key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_NOT_FOUND if key is not found, SL_STATUS_FAIL if other failure, </dd></dl>

</div>
</div>
<a id="ga773629100622f127a5577e52e0ff2ce7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga773629100622f127a5577e52e0ff2ce7">&#9670;&nbsp;</a></span>datastore_fixt_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fixt_setup </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixture for setting up the datastore component. </p>
<p>This function gets the config string for datastore file and opens the datastore (Sqlite database) then calls <a class="el" href="datastore__internals_8h.html#a9eee763b79c70bb2569253475733266e">datastore_table_init</a> And calls datastore_attribure_init</p>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK for success, SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga150d11fe4b3bafcb95acc9e4ea6a36b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga150d11fe4b3bafcb95acc9e4ea6a36b1">&#9670;&nbsp;</a></span>datastore_fixt_setup_and_handle_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_fixt_setup_and_handle_version </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>db_version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for setting up the datastore component handling the datastore version. </p>
<p>This function calls reads the datastore config option and calls <a class="el" href="datastore__fixt_8c.html#a327c100119c0e0834cb35a023e804d58">datastore_open</a> which opens the database and calls <a class="el" href="datastore__internals_8h.html#a9eee763b79c70bb2569253475733266e">datastore_table_init</a> initializes generic tables and then this function checks if the database version is same as current version. (Generic tables have the database version stored)</p>
<p>If the versioning is good then writes the current UIC version in generic table and calls datastore_attribure_init to initialize attribute store table If there is no database version found, it writes the current database version and writes the current UIC version in generic table and calls datastore_attribure_init to initialize attribute store</p>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK for success, SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga373160cc3a345e23f2adef4dbc0654bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga373160cc3a345e23f2adef4dbc0654bf">&#9670;&nbsp;</a></span>datastore_fixt_teardown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int datastore_fixt_teardown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixture to tear down the datastore. </p>
<p>This is basically a wrapper that calls <a class="el" href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a>, see <a class="el" href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown</a> for more details</p>
<dl class="section return"><dt>Returns</dt><dd>int 0 for success, -1 for failure </dd></dl>

</div>
</div>
<a id="gae3b9b254eca70856009a3819db29e630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3b9b254eca70856009a3819db29e630">&#9670;&nbsp;</a></span>datastore_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_init </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>database_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Datastore component. </p>
<p>If the datastore init fails, then there is no reason to call <a class="el" href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown()</a> If it initialized successful, then <a class="el" href="group__datastore.html#ga94ec0317094e42566008726743f2ebfe">datastore_teardown()</a> shall be called before exiting</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">database_path</td><td>Path to the database file, The directory the path must exist, or init will fail (or ":memory:" to use in memory database)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success SL_STATUS_FAIL if an error occurred </dd></dl>

</div>
</div>
<a id="ga0f8c7d6d90714c59bbe2e96612fc3456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f8c7d6d90714c59bbe2e96612fc3456">&#9670;&nbsp;</a></span>datastore_store_arr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_store_arr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store array in the persistent datastore. </p>
<p>NOTE: If a record already exists for the given key, the stored value will be overwritten by the value provided.</p>
<p>NOTE: If casting larger data types into the array, the component doing this shall be able to handle different endianess, as because of back-up/restore it shall be supported to move the database from Big Endian to Little Endian and vice versa. For uint8_t arrays there are no issues, as they are unaffected by endianess</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to store value under, must be unique </td></tr>
    <tr><td class="paramname">value</td><td>Value to store under key </td></tr>
    <tr><td class="paramname">size</td><td>Size of value array </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_FAIL if failure </dd></dl>

</div>
</div>
<a id="ga186f7732210b648fbb2f01d582a300bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga186f7732210b648fbb2f01d582a300bc">&#9670;&nbsp;</a></span>datastore_store_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_store_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__datastore.html#gaf5b54b66e8ded7f7ed747fd984b38a67">datastore_key_t</a>&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Store integer in the persistent datastore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>Key to store value under, must be unique </td></tr>
    <tr><td class="paramname">value</td><td>Value to store under key </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK if successful, SL_STATUS_FAIL if failure </dd></dl>

</div>
</div>
<a id="ga94ec0317094e42566008726743f2ebfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga94ec0317094e42566008726743f2ebfe">&#9670;&nbsp;</a></span>datastore_teardown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__sl__status.html#ga7e293ad81575c986a476d3065d7ae49f">sl_status_t</a> datastore_teardown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tear down the Datastore component. </p>
<p>Shall be called before exiting the application to close database file </p><dl class="section return"><dt>Returns</dt><dd>sl_status_t SL_STATUS_OK for success, SL_STATUS_ERROR for failure </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Oct 8 2021 09:58:36 for Zigbee Protocol Controller by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
