<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="727px" preserveAspectRatio="none" style="width:1082px;height:727px;background:#FFFFFF;" version="1.1" viewBox="0 0 1082 727" width="1082px" zoomAndPan="magnify"><defs><filter height="300%" id="f18avuysoj8712" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="351.9375" style="stroke:#000000;stroke-width:2.0;" width="1055.5" x="10" y="351.2109"/><rect fill="#FFFFFF" height="305.6719" style="stroke:none;stroke-width:1.0;" width="1055.5" x="10" y="397.4766"/><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="234.7344" style="stroke:#000000;stroke-width:2.0;" width="1035.5" x="20" y="461.4141"/><rect fill="#FFFFFF" height="188.4688" style="stroke:none;stroke-width:1.0;" width="1035.5" x="20" y="507.6797"/><rect fill="#FFFFFF" filter="url(#f18avuysoj8712)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="645" x="30" y="613.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="119" x2="119" y1="40.2969" y2="127.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="119" x2="119" y1="127.2188" y2="155.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="119" x2="119" y1="155.2188" y2="184.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="119" x2="119" y1="184.3516" y2="225.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="119" x2="119" y1="225.1563" y2="720.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558" x2="558" y1="40.2969" y2="127.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="558" x2="558" y1="127.2188" y2="155.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558" x2="558" y1="155.2188" y2="184.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="558" x2="558" y1="184.3516" y2="225.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558" x2="558" y1="225.1563" y2="720.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="984.5" x2="984.5" y1="40.2969" y2="127.2188"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="984.5" x2="984.5" y1="127.2188" y2="155.2188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="984.5" x2="984.5" y1="155.2188" y2="184.3516"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="984.5" x2="984.5" y1="184.3516" y2="225.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="984.5" x2="984.5" y1="225.1563" y2="720.1484"/><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="155" x="40" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="47" y="24.9951">Listener Component</text><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="209" x="452" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="459" y="24.9951">ZigPC ZCL Command Parser</text><rect fill="#FEFECE" filter="url(#f18avuysoj8712)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="118" x="923.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="930.5" y="24.9951">ZigPC Gateway</text><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1075.5" x="0" y="73.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1075.5" y1="73.1914" y2="73.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1075.5" y1="76.1914" y2="76.1914"/><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="27.7891" style="stroke:#000000;stroke-width:2.0;" width="127" x="474.25" y="60.2969"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="113" x="480.25" y="80.0767">Initialization</text><polygon fill="#A80036" points="972.5,115.2188,982.5,119.2188,972.5,123.2188,976.5,119.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="978.5" y1="119.2188" y2="119.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388" x="565.5" y="114.1528">Setup notifications for incoming Commands from PAN nodes</text><polygon fill="#A80036" points="546.5,172.3516,556.5,176.3516,546.5,180.3516,550.5,176.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="119.5" x2="552.5" y1="176.3516" y2="176.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="415" x="126.5" y="171.2856">Register to receive Groups/AddGroupResponse command events</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="513.5" y="208.562">Time goes by</text><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1075.5" x="0" y="248.0508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1075.5" y1="248.0508" y2="248.0508"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1075.5" y1="251.0508" y2="251.0508"/><rect fill="#EEEEEE" filter="url(#f18avuysoj8712)" height="27.7891" style="stroke:#000000;stroke-width:2.0;" width="653" x="211.25" y="235.1563"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacing" textLength="639" x="217.25" y="254.936">ZCL Groups/AddGroupResponse Command Received from PAN node</text><polygon fill="#A80036" points="569.5,290.0781,559.5,294.0781,569.5,298.0781,565.5,294.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="563.5" x2="983.5" y1="294.0781" y2="294.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="575.5" y="289.0122">Send Command data</text><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="600.5" y1="323.2109" y2="323.2109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="600.5" x2="600.5" y1="323.2109" y2="336.2109"/><line style="stroke:#A80036;stroke-width:1.0;" x1="559.5" x2="600.5" y1="336.2109" y2="336.2109"/><polygon fill="#A80036" points="569.5,332.2109,559.5,336.2109,569.5,340.2109,565.5,336.2109" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="565.5" y="318.145">Check cluster support</text><path d="M10,351.2109 L74,351.2109 L74,358.2109 L64,368.2109 L10,368.2109 L10,351.2109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="351.9375" style="stroke:#000000;stroke-width:2.0;" width="1055.5" x="10" y="351.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="364.2778">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="197" x="89" y="363.4214">[Groups cluster not supported]</text><polygon fill="#A80036" points="972.5,385.4766,982.5,389.4766,972.5,393.4766,976.5,389.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="978.5" y1="389.4766" y2="389.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="565.5" y="384.4106">Send back ZCL_CLUSTER_NOT_SUPPORTED status</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1065.5" y1="398.4766" y2="398.4766"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="318" x="15" y="408.687">[Groups cluster parsing supported by component]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="600.5" y1="433.4141" y2="433.4141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="600.5" x2="600.5" y1="433.4141" y2="446.4141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="559.5" x2="600.5" y1="446.4141" y2="446.4141"/><polygon fill="#A80036" points="569.5,442.4141,559.5,446.4141,569.5,450.4141,565.5,446.4141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="565.5" y="428.3481">Check Groups/AddGroupResponse support</text><path d="M20,461.4141 L84,461.4141 L84,468.4141 L74,478.4141 L20,478.4141 L20,461.4141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="234.7344" style="stroke:#000000;stroke-width:2.0;" width="1035.5" x="20" y="461.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="474.481">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="277" x="99" y="473.6245">[Groups/AddGroupResponse not supported]</text><polygon fill="#A80036" points="972.5,495.6797,982.5,499.6797,972.5,503.6797,976.5,499.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="978.5" y1="499.6797" y2="499.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="565.5" y="494.6138">Send back ZCL_CLUSTER_COMMAND_NOT_SUPPORTED status</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1055.5" y1="508.6797" y2="508.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="398" x="25" y="518.8901">[Groups/AddGroupResponse parsing supported by component]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="600.5" y1="543.6172" y2="543.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="600.5" x2="600.5" y1="543.6172" y2="556.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="559.5" x2="600.5" y1="556.6172" y2="556.6172"/><polygon fill="#A80036" points="569.5,552.6172,559.5,556.6172,569.5,560.6172,565.5,556.6172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="565.5" y="538.5513">Parse payload for Groups/AddGroupResponse</text><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="600.5" y1="585.75" y2="585.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="600.5" x2="600.5" y1="585.75" y2="598.75"/><line style="stroke:#A80036;stroke-width:1.0;" x1="559.5" x2="600.5" y1="598.75" y2="598.75"/><polygon fill="#A80036" points="569.5,594.75,559.5,598.75,569.5,602.75,565.5,598.75" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="565.5" y="580.6841">Find registered callbacks for Groups/AddGroupResponse</text><path d="M30,613.75 L107,613.75 L107,620.75 L97,630.75 L30,630.75 L30,613.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="645" x="30" y="613.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="45" y="626.8169">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="317" x="122" y="625.9604">[Groups/AddGroupResponse registered callbacks]</text><polygon fill="#A80036" points="130.5,648.0156,120.5,652.0156,130.5,656.0156,126.5,652.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="124.5" x2="557.5" y1="652.0156" y2="652.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338" x="136.5" y="646.9497">Invoke callback with Groups/AddGroupResponse data</text><polygon fill="#A80036" points="972.5,684.1484,982.5,688.1484,972.5,692.1484,976.5,688.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="558.5" x2="978.5" y1="688.1484" y2="688.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="565.5" y="683.0825">Send back ZCL_STATUS_SUCCESS status</text><!--MD5=[deb1efd70c275859ab0357092fb8b475]
@startuml inline_umlgraph_5.svg
hide footbox
participant "Listener Component" as LC
participant "ZigPC ZCL Command Parser" as CP
participant "ZigPC Gateway" as GT

=== Initialization ==
CP -> GT : Setup notifications for incoming Commands from PAN nodes
...
LC -> CP: Register to receive Groups/AddGroupResponse command events
... Time goes by ...

=== ZCL Groups/AddGroupResponse Command Received from PAN node ==
GT -> CP : Send Command data
CP -> CP : Check cluster support
alt Groups cluster not supported
     CP -> GT: Send back ZCL_CLUSTER_NOT_SUPPORTED status
else Groups cluster parsing supported by component
     CP -> CP : Check Groups/AddGroupResponse support
  alt Groups/AddGroupResponse not supported
    CP -> GT: Send back ZCL_CLUSTER_COMMAND_NOT_SUPPORTED status
  else Groups/AddGroupResponse parsing supported by component
     CP -> CP: Parse payload for Groups/AddGroupResponse
     CP -> CP: Find registered callbacks for Groups/AddGroupResponse
      loop Groups/AddGroupResponse registered callbacks
        CP -> LC: Invoke callback with Groups/AddGroupResponse data
      end loop
     CP -> GT: Send back ZCL_STATUS_SUCCESS status
  end alt
end alt
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>