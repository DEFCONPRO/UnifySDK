<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unify SDK Lib: MapperEngine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unify SDK Lib
   &#160;<span id="projectnumber">1.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classMapperEngine.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMapperEngine-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MapperEngine Class Reference<div class="ingroups"><a class="el" href="group__unify__components.html">Unify Components</a> &raquo; <a class="el" href="group__unify__attribute__mapper.html">Unify Attribute Mapper</a> &raquo; <a class="el" href="group__attribute__mapper__engine.html">Mapper engine</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Mapper Engine.  
 <a href="classMapperEngine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="attribute__mapper__engine_8hpp_source.html">attribute_mapper_engine.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59464c485d29100afb95f912aedfb0c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a59464c485d29100afb95f912aedfb0c4">reset</a> ()</td></tr>
<tr class="memdesc:a59464c485d29100afb95f912aedfb0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the mapper engine and clear all releations.  <a href="classMapperEngine.html#a59464c485d29100afb95f912aedfb0c4">More...</a><br /></td></tr>
<tr class="separator:a59464c485d29100afb95f912aedfb0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d473a46e2ad44e611a2485611e0e28c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a0d473a46e2ad44e611a2485611e0e28c">load_path</a> (const std::string &amp;uam_path)</td></tr>
<tr class="memdesc:a0d473a46e2ad44e611a2485611e0e28c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load engine with all uam file in a given directory.  <a href="classMapperEngine.html#a0d473a46e2ad44e611a2485611e0e28c">More...</a><br /></td></tr>
<tr class="separator:a0d473a46e2ad44e611a2485611e0e28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b27b01f0ebb8373828974b99bafb7b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a4b27b01f0ebb8373828974b99bafb7b5">load_file</a> (std::string uam_file_name)</td></tr>
<tr class="memdesc:a4b27b01f0ebb8373828974b99bafb7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load engine with single uam file.  <a href="classMapperEngine.html#a4b27b01f0ebb8373828974b99bafb7b5">More...</a><br /></td></tr>
<tr class="separator:a4b27b01f0ebb8373828974b99bafb7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d90a71af2f7809eef7d3a636edc78f2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a9d90a71af2f7809eef7d3a636edc78f2">add_expression</a> (const std::string expression)</td></tr>
<tr class="memdesc:a9d90a71af2f7809eef7d3a636edc78f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add uam expression to the ast.  <a href="classMapperEngine.html#a9d90a71af2f7809eef7d3a636edc78f2">More...</a><br /></td></tr>
<tr class="separator:a9d90a71af2f7809eef7d3a636edc78f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84fb83ab17983d26060561cb760adf5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#ad84fb83ab17983d26060561cb760adf5">update_dependencies</a> (const <a class="el" href="structast_1_1ast__tree.html">ast::ast_tree</a> &amp;ast)</td></tr>
<tr class="memdesc:ad84fb83ab17983d26060561cb760adf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Re-calculate dependencies of a the ast,.  <a href="classMapperEngine.html#ad84fb83ab17983d26060561cb760adf5">More...</a><br /></td></tr>
<tr class="separator:ad84fb83ab17983d26060561cb760adf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfcff8594611828b4b7f378a76dc6a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a4cfcff8594611828b4b7f378a76dc6a8">set_ep_type</a> (<a class="el" href="attribute__store_8h.html#ab7b43e61cc3128952b765dc99020b160">attribute_store_type_t</a> t)</td></tr>
<tr class="memdesc:a4cfcff8594611828b4b7f378a76dc6a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the endpoint type which should be used as start context for all attribute evaluations.  <a href="classMapperEngine.html#a4cfcff8594611828b4b7f378a76dc6a8">More...</a><br /></td></tr>
<tr class="separator:a4cfcff8594611828b4b7f378a76dc6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a611e1c6acc22a5c70ae5863f0974f9ff"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classMapperEngine.html">MapperEngine</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a611e1c6acc22a5c70ae5863f0974f9ff">get_instance</a> ()</td></tr>
<tr class="memdesc:a611e1c6acc22a5c70ae5863f0974f9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the singletron.  <a href="classMapperEngine.html#a611e1c6acc22a5c70ae5863f0974f9ff">More...</a><br /></td></tr>
<tr class="separator:a611e1c6acc22a5c70ae5863f0974f9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac7bd4f2fad327ac372685d361f1a74a6"><td class="memItemLeft" align="right" valign="top">attribute_store::attribute&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#ac7bd4f2fad327ac372685d361f1a74a6">get_destination_for_attribute</a> (const attribute_store::attribute &amp;endpoint, const <a class="el" href="structast_1_1attribute.html">ast::attribute</a> &amp;attribute, bool create_if_missing) const</td></tr>
<tr class="memdesc:ac7bd4f2fad327ac372685d361f1a74a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the destination for attribute.  <a href="classMapperEngine.html#ac7bd4f2fad327ac372685d361f1a74a6">More...</a><br /></td></tr>
<tr class="separator:ac7bd4f2fad327ac372685d361f1a74a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868308efe33ab76627efbbbfd22ad0af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a868308efe33ab76627efbbbfd22ad0af">on_attribute_updated</a> (attribute_store::attribute const &amp;original_node, <a class="el" href="group__attribute__store__api.html#ga296998251b25382f24977825b7193e18">attribute_store_node_value_state_t</a> state, <a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a> change)</td></tr>
<tr class="memdesc:a868308efe33ab76627efbbbfd22ad0af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when an attribute is updated.  <a href="classMapperEngine.html#a868308efe33ab76627efbbbfd22ad0af">More...</a><br /></td></tr>
<tr class="separator:a868308efe33ab76627efbbbfd22ad0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a31fb993c0e97767289a042559545a4ae"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a31fb993c0e97767289a042559545a4ae">on_attribute_updated_reported</a> (<a class="el" href="group__attribute__store__api.html#ga66c4c40720e5271c527c718924261fc6">attribute_store_node_t</a> n, <a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a> change)</td></tr>
<tr class="memdesc:a31fb993c0e97767289a042559545a4ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapter function for the attribute store.  <a href="classMapperEngine.html#a31fb993c0e97767289a042559545a4ae">More...</a><br /></td></tr>
<tr class="separator:a31fb993c0e97767289a042559545a4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a707f791d7122d547b53dfc8824941641"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#a707f791d7122d547b53dfc8824941641">on_attribute_updated_desired</a> (<a class="el" href="group__attribute__store__api.html#ga66c4c40720e5271c527c718924261fc6">attribute_store_node_t</a> n, <a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a> change)</td></tr>
<tr class="memdesc:a707f791d7122d547b53dfc8824941641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adapter function for the attribute store.  <a href="classMapperEngine.html#a707f791d7122d547b53dfc8824941641">More...</a><br /></td></tr>
<tr class="separator:a707f791d7122d547b53dfc8824941641"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af122c9ca8dd2666fdd220a900cd90beb"><td class="memItemLeft" align="right" valign="top">std::multimap&lt; <a class="el" href="namespaceast.html#accf202c9a5e9a1bf3dab9ace8075ccc1">ast::attribute_dependency_t</a>, std::shared_ptr&lt; <a class="el" href="structast_1_1assignment.html">ast::assignment</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#af122c9ca8dd2666fdd220a900cd90beb">relations</a></td></tr>
<tr class="separator:af122c9ca8dd2666fdd220a900cd90beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99aa118192071b9f93d1d4f7306367e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="attribute__store_8h.html#ab7b43e61cc3128952b765dc99020b160">attribute_store_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMapperEngine.html#ae99aa118192071b9f93d1d4f7306367e">ep_type</a></td></tr>
<tr class="separator:ae99aa118192071b9f93d1d4f7306367e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mapper Engine. </p>
<p>The purpose of the mapping engine define relations between attributes in the attribute store, in general the relation between the Z-Wave attribute and the Zigbee attributes. The actions performed by the mapping engine is quite similar to the actions performed by a compiler. A compiler parses a text document and builds an Abstract Syntax Tree(AST). The AST is then optimized and the AST nodes are translated into machine op codes. In the attribute mapper we are not translating AST nodes to opcodes but instead we are keeping the AST in memory.</p>
<p>The mapping engine only interacts with the attribute store. An example of a simple mapping is the relation between the zigbee attribute OnOf.value and the Z-Wave attribute binary_switch.value, if desired of OnOf.value is update the binary_switch.value should be update. The the same applies to the reported value in the reverse direction. So in a meta description we could describe this behaviour with the following:</p>
<p>r'OnOff_Value = r'BinarySwitch_Value d'BinarySwitch_Value = d'OnOff_Value</p>
<p>This means when the reported value of BinarySwitch_Value changes we would like to update the repported value of OnOff_Value. Actually we will also create the OnOff_Value if it does not exists (this will only happen with reported values). For the desired value we update BinarySwitch_Value if OnOff_Value changes.</p>
<p>For simplicity the attribute mapper evaluates every thing as int32. This mean that All attributes the mapper deals with must be int32.</p>
<p>The AST of the rule set is stored in memory because when an attribute changes, we should locate dependencies using the AST. The value of each AST node can be calculated in the context of an attribute node. Let's look at the example where an attribute is updated and the node type of that attribute is a leaf nodes in the AST. Then we need to try to re-calculate the value of all AST nodes that depends on the updated node. The update may lead to a write of another attribute. In the example above an update leads to an update of the OnOff value. There could be cases where some node in the AST cannot be evaluated in a given context, for example if one attribute depends on two other attributes but only one of them is defined. Then the AST will not be fully evaluated in the given context (the node does not support all the required command classes). In this case the update will not lead to an attribute write.</p>
<p>In some cases there could be multiple ways to calculate a mapping. Let's take a fictive example of some ZigBee LED color command class. On the Zigbee side colors are defined as RGBW on the Z-Wave side the color may be in RGBW or may be in just RGB.</p>
<p>A mapping could look like this</p>
<p>zbColorW = zwColor[W] or ((zwColor[R] + zwColor[G] + zwColor[B])*1000 ) / 3333</p>
<p>Here we would persue the relation using zwColor[W] first, if that is not possible we would fall back to ((zwColor[R] + zwColor[G] + zwColor[B])*1000) /3333</p>
<p>The mapping engine uses a number of C++ classes to perform its tasks.</p>
<ul>
<li>The ast::UAMGrammar class defnies how we translate a text document into our ast using the boost spirit framework.</li>
<li>The ast::dep_evel class is used to build a graph of relations between attributes.</li>
<li>The <a class="el" href="structast_1_1eval.html" title="AST evaluator.">ast::eval</a> class is used to evaluate expressions when a change in a attribute value occurs</li>
</ul>
<div class="plantumlgraph">
<object type="image/svg+xml" data="inline_umlgraph_3.svg"></object>
</div>
 </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9d90a71af2f7809eef7d3a636edc78f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d90a71af2f7809eef7d3a636edc78f2">&#9670;&nbsp;</a></span>add_expression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MapperEngine::add_expression </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>expression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add uam expression to the ast. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expression</td><td>Expression given as string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true If load succeed </dd>
<dd>
false Some error occurred in parsing of AST validation </dd></dl>

</div>
</div>
<a id="ac7bd4f2fad327ac372685d361f1a74a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7bd4f2fad327ac372685d361f1a74a6">&#9670;&nbsp;</a></span>get_destination_for_attribute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">attribute_store::attribute MapperEngine::get_destination_for_attribute </td>
          <td>(</td>
          <td class="paramtype">const attribute_store::attribute &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structast_1_1attribute.html">ast::attribute</a> &amp;&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create_if_missing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the destination for attribute. </p>
<p>Try to resolve the attribute node from the AST attribute path.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>endpoint to start from </td></tr>
    <tr><td class="paramname">attribute</td><td>Attribute (path) to resolve </td></tr>
    <tr><td class="paramname">create_if_missing</td><td>If true the destination attribute is created if it does not exists </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>destination attribute, if no destination is found we return INVALID_ATTRIBUTE </dd></dl>

</div>
</div>
<a id="a611e1c6acc22a5c70ae5863f0974f9ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a611e1c6acc22a5c70ae5863f0974f9ff">&#9670;&nbsp;</a></span>get_instance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classMapperEngine.html">MapperEngine</a>&amp; MapperEngine::get_instance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the singletron. </p>
<dl class="section return"><dt>Returns</dt><dd>The singletron </dd></dl>

</div>
</div>
<a id="a4b27b01f0ebb8373828974b99bafb7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b27b01f0ebb8373828974b99bafb7b5">&#9670;&nbsp;</a></span>load_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MapperEngine::load_file </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>uam_file_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load engine with single uam file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uam_file_name</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="a0d473a46e2ad44e611a2485611e0e28c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d473a46e2ad44e611a2485611e0e28c">&#9670;&nbsp;</a></span>load_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MapperEngine::load_path </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>uam_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load engine with all uam file in a given directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uam_path</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true If load succeed </dd>
<dd>
false Some error occurred in parsing of AST validation </dd></dl>

</div>
</div>
<a id="a868308efe33ab76627efbbbfd22ad0af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868308efe33ab76627efbbbfd22ad0af">&#9670;&nbsp;</a></span>on_attribute_updated()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MapperEngine::on_attribute_updated </td>
          <td>(</td>
          <td class="paramtype">attribute_store::attribute const &amp;&#160;</td>
          <td class="paramname"><em>original_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga296998251b25382f24977825b7193e18">attribute_store_node_value_state_t</a>&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a>&#160;</td>
          <td class="paramname"><em>change</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called when an attribute is updated. </p>
<p>This function will do a look up the updated attribute in the relation table and evaluate the expressios which depends on the attribute.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">original_node</td><td>Node that has been updated </td></tr>
    <tr><td class="paramname">state</td><td>What updated desired or reported </td></tr>
    <tr><td class="paramname">change</td><td>Type of update, create, delete, value change </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a707f791d7122d547b53dfc8824941641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a707f791d7122d547b53dfc8824941641">&#9670;&nbsp;</a></span>on_attribute_updated_desired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MapperEngine::on_attribute_updated_desired </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga66c4c40720e5271c527c718924261fc6">attribute_store_node_t</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a>&#160;</td>
          <td class="paramname"><em>change</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adapter function for the attribute store. </p>

</div>
</div>
<a id="a31fb993c0e97767289a042559545a4ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31fb993c0e97767289a042559545a4ae">&#9670;&nbsp;</a></span>on_attribute_updated_reported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void MapperEngine::on_attribute_updated_reported </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga66c4c40720e5271c527c718924261fc6">attribute_store_node_t</a>&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__attribute__store__api.html#ga27a25d4910253f286d7e355ad9874699">attribute_store_change_t</a>&#160;</td>
          <td class="paramname"><em>change</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adapter function for the attribute store. </p>

</div>
</div>
<a id="a59464c485d29100afb95f912aedfb0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59464c485d29100afb95f912aedfb0c4">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MapperEngine::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the mapper engine and clear all releations. </p>

</div>
</div>
<a id="a4cfcff8594611828b4b7f378a76dc6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfcff8594611828b4b7f378a76dc6a8">&#9670;&nbsp;</a></span>set_ep_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MapperEngine::set_ep_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="attribute__store_8h.html#ab7b43e61cc3128952b765dc99020b160">attribute_store_type_t</a>&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the endpoint type which should be used as start context for all attribute evaluations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Type to use as start context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad84fb83ab17983d26060561cb760adf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84fb83ab17983d26060561cb760adf5">&#9670;&nbsp;</a></span>update_dependencies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool MapperEngine::update_dependencies </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structast_1_1ast__tree.html">ast::ast_tree</a> &amp;&#160;</td>
          <td class="paramname"><em>ast</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Re-calculate dependencies of a the ast,. </p>
<p>this should be called if the AST is updated.</p>
<dl class="section return"><dt>Returns</dt><dd>true If load succeed </dd>
<dd>
false Some error occurred in parsing of AST validation </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae99aa118192071b9f93d1d4f7306367e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99aa118192071b9f93d1d4f7306367e">&#9670;&nbsp;</a></span>ep_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="attribute__store_8h.html#ab7b43e61cc3128952b765dc99020b160">attribute_store_type_t</a> MapperEngine::ep_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af122c9ca8dd2666fdd220a900cd90beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af122c9ca8dd2666fdd220a900cd90beb">&#9670;&nbsp;</a></span>relations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::multimap&lt;<a class="el" href="namespaceast.html#accf202c9a5e9a1bf3dab9ace8075ccc1">ast::attribute_dependency_t</a>, std::shared_ptr&lt;<a class="el" href="structast_1_1assignment.html">ast::assignment</a>&gt; &gt; MapperEngine::relations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>components/uic_attribute_mapper/src/<a class="el" href="attribute__mapper__engine_8hpp_source.html">attribute_mapper_engine.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMapperEngine.html">MapperEngine</a></li>
    <li class="footer">Generated on Wed Mar 23 2022 08:49:31 for Unify SDK Lib by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
